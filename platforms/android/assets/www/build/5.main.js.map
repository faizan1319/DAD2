{"version":3,"sources":["../../src/pages/pursuit/pursuit.module.ts","../../src/pages/pursuit/pursuit.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PursuitPage } from './pursuit';\n\n@NgModule({\n  declarations: [\n    PursuitPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PursuitPage),\n  ],\n  exports: [\n    PursuitPage\n  ]\n})\nexport class PursuitPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pursuit/pursuit.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\n\nimport {\n  GoogleMaps,\n  GoogleMap,\n  GoogleMapsEvent,\n  GoogleMapOptions,\n  CameraPosition,\n  MarkerOptions,\n  Marker,\n  ILatLng\n } from '@ionic-native/google-maps';\n import { Geolocation } from '@ionic-native/geolocation';\n\n/**\n * Generated class for the PursuitPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-pursuit',\n  templateUrl: 'pursuit.html',\n})\nexport class PursuitPage {\n\n  map                   : GoogleMap;\n  mapElement            : HTMLElement;\n  myLocation            : ILatLng;\n  locationSubscription  : any ;\n  distance              : number;\n  postLocation          : ILatLng = {\n    lat: this.navParams.get('postLat'),\n    lng: this.navParams.get('postLng')\n  };\n  geolocationOptions    : any = {\n    enableHighAccuracy  : true\n  };\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private googleMaps: GoogleMaps,\n    private geolocation: Geolocation,\n    public loadingCtrl: LoadingController\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PursuitPage');\n    this.loadMap();\n    let that = this;\n    this.locationSubscription = this.geolocation.watchPosition(this.geolocationOptions)\n    .subscribe((pos) => {\n      let myLocation: ILatLng = {\n        lat : pos.coords.latitude,\n        lng : pos.coords.longitude\n      }\n      that.distance = this.googleMaps._spherical.computeDistanceBetween(myLocation, that.postLocation); \n    })\n  }\n\n  loadMap() {\n    \n    let loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n    loading.present();\n\n    let that = this;\n    \n    this.geolocation.getCurrentPosition(this.geolocationOptions)\n    .then((resp) => {\n      let mapOptions: GoogleMapOptions = {\n        camera: {\n          target: {\n            lat: resp.coords.latitude,\n            lng: resp.coords.longitude\n          },\n          zoom: 18,\n          tilt: 30\n        }\n      };\n      \n      this.mapElement = document.getElementById('map');\n      this.map = this.googleMaps.create(this.mapElement, mapOptions);\n      this.map.one(GoogleMapsEvent.MAP_READY)\n      .then(() => {\n        console.log('Map is ready!');\n  \n        that.map.setMyLocationEnabled(true);\n        that.map.setTrafficEnabled(true);\n        that.map.setCompassEnabled(true);\n        loading.dismiss();\n      });\n    })\n    .catch((error) => {\n        console.log('Error getting location', error);\n    });\n  }\n\n  ionViewDidLeave(){\n    this.locationSubscription.unsubscribe;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pursuit/pursuit.ts"],"sourceRoot":""}