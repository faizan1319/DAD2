{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AAalC,IAAa,YAAY;IAAzB;IAA2B,CAAC;IAAD,mBAAC;AAAD,CAAC;AAAf,YAAY;IAXxB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,uDAAM;SACP;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,uDAAM,CAAC;SACjC;QACD,OAAO,EAAE;YACP,uDAAM;SACP;KACF,CAAC;GACW,YAAY,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACfiB;AAC2C;AACL;AAChF,yEAAyE;AACZ;AAE7D;;;;;GAKG;AAMH,IAAa,MAAM;IAKjB,gBACS,OAA4B,EAC5B,SAAwB,EACxB,SAA8B,EAC9B,WAA0B;QACjC,0CAA0C;QACnC,OAA2B;QAL3B,YAAO,GAAP,OAAO,CAAqB;QAC5B,cAAS,GAAT,SAAS,CAAe;QACxB,cAAS,GAAT,SAAS,CAAqB;QAC9B,gBAAW,GAAX,WAAW,CAAe;QAE1B,YAAO,GAAP,OAAO,CAAoB;QAEhC,QAAM,CAAC,OAAO,GAAG,OAAO,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,SAAS,EAAG,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YACjE,QAAQ,EAAG,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAChE,MAAM,EAAM,CAAC,EAAE,CAAC;YAChB,QAAQ,EAAG,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE,QAAM,CAAC,yBAAyB,CAAC;YAClG,KAAK,EAAG,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,KAAK,CAAC,EAAE,QAAM,CAAC,sBAAsB,CAAC;YACpF,QAAQ,EAAG,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,oDAAoD;SACrD,CAAC;IACN,CAAC;IAGD,+BAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACtC,CAAC;IAED,+CAA+C;IAC/C,0EAA0E;IAC1E,sBAAsB;IACtB,IAAI;IAEG,6BAAsB,GAA7B,UAA8B,OAAoB;QAC5C,MAAM,CAAC,IAAI,OAAO,CAAE,iBAAO;YACvB,QAAM,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,KAAK,CAAC;iBACtD,SAAS,CAAC,UAAC,IAAI;gBACZ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACd,kEAAkE;oBAClE,OAAO,CAAC;wBACJ,iBAAiB,EAAG,IAAI;qBAC3B,CAAC;gBACN,CAAC;gBACD,IAAI,EAAC;oBACH,2CAA2C;oBAC3C,OAAO,CAAC,IAAI,CAAC,CAAC;gBAChB,CAAC;YACL,CAAC,CAAC;QACN,CAAC,CAAC;IACN,CAAC;IAEM,gCAAyB,GAAhC,UAAiC,OAAoB;QACjD,MAAM,CAAC,IAAI,OAAO,CAAE,iBAAO;YACvB,QAAM,CAAC,OAAO,CAAC,yBAAyB,CAAC,OAAO,CAAC,KAAK,CAAC;iBACtD,SAAS,CAAC,UAAC,IAAI;gBACZ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACd,OAAO,CAAC,GAAG,CAAC,2CAA2C,EAAE,IAAI,CAAC,CAAC;oBAC/D,OAAO,CAAC;wBACJ,iBAAiB,EAAG,IAAI;qBAC3B,CAAC;gBACN,CAAC;gBACD,IAAI,EAAC;oBACH,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;oBACxC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAChB,CAAC;YACL,CAAC,CAAC;QACN,CAAC,CAAC;IACN,CAAC;IAIH,8BAAa,GAAb;QAAA,iBA4BC;QA3BC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAErC,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QACnC,0CAA0C;QAC1C,eAAe;QACf,+BAA+B;QAC/B,8BAA8B;QAC9B,8BAA8B;QAC9B,wBAAwB;QACxB,6BAA6B;QAC7B,IAAI;QAEJ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;aACzB,SAAS,CAAC,UAAC,IAAI;YACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE;gBACpC,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,OAAO,EAAE,IAAI,CAAC,OAAO;oBACrB,eAAe,EAAE,IAAI;oBACrB,eAAe,EAAE,IAAI;iBACtB,CAAC;gBACF,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC,CAAC;QACJ,CAAC,CAAC;IAEJ,CAAC;IAEH,aAAC;AAAD,CAAC;AAzGY,MAAM;IALlB,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,aAAa;OACG;KAC3B,CAAC;yEAOqC;QACb,sEAAS;QACT,oEAAe;QACf,8EAAW;QAEX,GAAY;AA8FrC;SAzGY,IAAM","file":"2.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Signup } from './signup';\n\n@NgModule({\n  declarations: [\n    Signup,\n  ],\n  imports: [\n    IonicPageModule.forChild(Signup),\n  ],\n  exports: [\n    Signup\n  ]\n})\nexport class SignupModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators, FormControl} from \"@angular/forms\";\n// import { SignupValidators } from \"../../validators/signupValidations\";\nimport { UserServices } from \"../../providers/user-services\";\n\n/**\n * Generated class for the Signup page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class Signup {\n\n  inputSection : FormGroup;\n  static service : UserServices;\n\n  constructor (\n    public navCtrl      : NavController,\n    public navParams    : NavParams,\n    public toastCtrl    : ToastController,\n    public formBuilder  : FormBuilder,\n    // public signupVal    : SignupValidators,\n    public service      : UserServices\n  ) {\n      Signup.service = service;   \n      this.inputSection = formBuilder.group({\n        firstname : ['', [Validators.required, Validators.maxLength(20)]],\n        lastname : ['', [Validators.required, Validators.maxLength(20)]],\n        number    : [''],\n        username : ['', [Validators.required, Validators.maxLength(20)], Signup.checkForDuplicateUsername],\n        email : ['', [Validators.required, Validators.email], Signup.checkForDuplicateEmail],\n        password : ['', [Validators.required, Validators.minLength(8)]]\n        // confirmPassword : ['', this.checkConfirmPassword]\n      })\n  }\n\n\n  ionViewDidLoad() {\n    console.log(\"signup page did load\");\n  }\n\n  // checkConfirmPassword(control: FormControl) {\n  //   if(control.value == this.inputSection.controls.password) return null;\n  //   else return true;\n  // }\n\n  static checkForDuplicateEmail(control: FormControl): any {\n        return new Promise( resolve => {\n            Signup.service.checkForEmailAlreadyExist(control.value)\n            .subscribe((data) => {\n                console.log(data);\n                if(data == true) {\n                    // console.log('i am in data ture check and the data is: ', data);\n                    resolve({\n                        \"username taken!\" : true \n                    }) \n                }\n                else{\n                  // console.log('i am in data false check');\n                  resolve(null);\n                } \n            })\n        })\n    }\n    \n    static checkForDuplicateUsername(control: FormControl): any {\n        return new Promise( resolve => {\n            Signup.service.checkForDuplicateUsername(control.value)\n            .subscribe((data) => {\n                console.log(data);\n                if(data == true) {\n                    console.log('i am in data ture check and the data is: ', data);\n                    resolve({\n                        \"username taken!\" : true \n                    }) \n                }\n                else{\n                  console.log('i am in data false check');\n                  resolve(null);\n                } \n            })\n        })\n    }\n\n  \n  \n  enrollNewUser() {\n    console.log('hey there');\n    console.log(this.inputSection.get('firstname').value);\n    console.log(this.inputSection.value);\n    \n    let body = this.inputSection.value;\n    // console.log('here is the body: ',body);\n    // let body = {\n    //   firstname: this.firstname,\n    //   lastname : this.lastname,\n    //   username : this.username,\n    //   email : this.email,\n    //   password : this.password\n    // }\n\n    this.service.newUser(body)\n    .subscribe((data) => {\n      console.log(data);\n      this.navCtrl.setRoot('Login', {}, {}, () => {\n        let toast = this.toastCtrl.create({\n          message: data.message,\n          showCloseButton: true,\n          closeButtonText: \"Ok\"\n        })\n        toast.present();\n      })\n    })\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}