{"version":3,"sources":["../../src/pages/related-news/related-news.module.ts","../../src/pages/related-news/related-news.ts"],"names":[],"mappings":"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","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RelatedNews } from './related-news';\n\n@NgModule({\n  declarations: [\n    RelatedNews,\n  ],\n  imports: [\n    IonicPageModule.forChild(RelatedNews),\n  ],\n  exports: [\n    RelatedNews\n  ]\n})\nexport class RelatedNewsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/related-news/related-news.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\r\nimport { GoogleMap, GoogleMapsEvent, LatLng, CameraPosition, MarkerOptions, Marker, GoogleMaps, GoogleMapOptions, Spherical, ILatLng } from \"@ionic-native/google-maps\";\r\nimport { PostServices } from '../../providers/post-services';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n\r\n/**\r\n * Generated class for the RelatedNews page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-related-news',\r\n  templateUrl: 'related-news.html',\r\n})\r\nexport class RelatedNews {\r\n\r\n    slideTitle                      : string = \"Relevant Events\";\r\n    postsForEmployee                : any;\r\n    userData                        : any    = this.navParams.get('userData');\r\n    locationSubscription            : any;\r\n    // myLocation                      : ILatLng ;\r\n    \r\n  constructor(\r\n    public navCtrl        : NavController,\r\n    public navParams      : NavParams,\r\n    private service       : PostServices,\r\n    private geolocation   : Geolocation,\r\n    private spherical     : Spherical,\r\n    private toastCtrl     : ToastController,\r\n    public loadingCtrl    : LoadingController\r\n  ) {\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    console.log('ionViewDidLoad RelatedNews');\r\n    let loading = this.loadingCtrl.create({\r\n      spinner: 'crescent'\r\n    });\r\n    loading.present();\r\n\r\n    this.service.getPostForEmployee(this.userData.employeePostCategoryId)\r\n    .subscribe((data) => {\r\n      this.postsForEmployee = data;\r\n      console.log('post for employee: ', this.postsForEmployee);\r\n      loading.dismiss();\r\n    })\r\n  }\r\n\r\n  getDistanceFromEmployee(lat: number, lng: number) {\r\n    \r\n    let loading = this.loadingCtrl.create({\r\n      spinner: 'crescent'\r\n    });\r\n    loading.present();\r\n\r\n    let postLocation: ILatLng = {\r\n      lat,\r\n      lng\r\n    }\r\n\r\n    let geolocatioOptions = {\r\n      enableHighAccuracy: true\r\n    };\r\n\r\n    this.geolocation.getCurrentPosition(geolocatioOptions)\r\n    .then((resp) => {\r\n\r\n      let myLocation: ILatLng = {\r\n        lat: resp.coords.latitude,\r\n        lng: resp.coords.longitude\r\n      }\r\n\r\n      console.log('My Location: ',myLocation);\r\n      console.log('Post Location: ',postLocation);\r\n      \r\n      // this.myLocation.lat = resp.coords.latitude;\r\n      // this.myLocation.lng = resp.coords.latitude;\r\n      \r\n      let distance = this.spherical.computeDistanceBetween(myLocation, postLocation);\r\n      loading.dismiss();\r\n      let toast = this.toastCtrl.create({\r\n        message         : 'Distance from your current position is: '+distance,\r\n        showCloseButton : true,\r\n        closeButtonText : 'Ok'\r\n      });\r\n\r\n      toast.present();\r\n    })\r\n  }\r\n\r\n  openPursuitPage(lat: number, lng: number) {\r\n    this.navCtrl.push('PursuitPage', {\r\n      postLat: lat,\r\n      postLng: lng\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/related-news/related-news.ts"],"sourceRoot":""}