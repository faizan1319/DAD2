{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"12.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Login } from './login';\n\n@NgModule({\n  declarations: [\n    Login,\n  ],\n  imports: [\n    IonicPageModule.forChild(Login),\n  ],\n  exports: [\n    Login\n  ]\n})\nexport class LoginModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\n\nimport { UserServices } from \"../../providers/user-services\";\n\n/**\n * Generated class for the Login page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class Login {\n    username: string;\n    localPassword: string;\n    realPassword: string;\n    userData: any;\n\n\n  constructor (\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private service: UserServices,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController\n  ) {}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Login');\n  }\n\n\n  userLogin() {\n    let loading = this.loadingCtrl.create({\n      spinner: 'crescent'\n    });\n\n    loading.present();\n\n    this.service.loginUser(this.username, this.localPassword)\n    .subscribe((data) => {\n      if(data.length == 2) {\n        let toast = this.toastCtrl.create({\n          message: 'Incorrect credentials! Please check your username or password.',\n          duration: 3000\n        })\n        loading.dismiss();\n        toast.present();\n      }\n      else if(data.length == 1 ) {\n        // console.log(data);\n          this.userData = {\n            loggedInUserId          : data[\"0\"].userId,\n            username                : this.username,\n            userType                : data[\"0\"].userType,\n            firstname               : data[\"0\"].firstname,\n            lastname                : data[\"0\"].lastname,\n            email                   : data[\"0\"].email,\n            dpUrl                   : data[\"0\"].dpUrl,\n            phone                   : data[\"0\"].phone,\n            postCount               : data[\"0\"].postCount,\n            userSubscriptions       : data[\"0\"].subscriptions,\n            employeePostCategoryId  : data[\"0\"].employeePostCategoryId\n          }\n          let categoryTags: any = {\n            [1]  : 0,\n            [2]  : 0,\n            [3]  : 0,\n            [4]  : 0,\n            [5]  : 0,\n            [6]  : 0,\n            [7]  : 0,\n            [8]  : 0,\n            [9]  : 0,\n            [10]  : 0,\n            [11]  : 0,\n            [12]  : 0,\n            [13]  : 0\n          }\n          console.log(categoryTags);\n          \n          if(this.userData.userType == 1) {\n            for(let category of this.userData.userSubscriptions) {\n              console.log('i am the category: ',category.categoryId);\n              switch(category.categoryId) {\n                case 1:\n                  categoryTags[1] = 1;\n                  break;\n                case 2:\n                  categoryTags[2] = 1;\n                  break;\n                case 3:\n                  categoryTags[3] = 1;\n                  break;\n                case 4:\n                  categoryTags[4] = 1;\n                  break;  \n                case 5:\n                  categoryTags[5] = 1;\n                  break;\n                case 6:\n                  categoryTags[6] = 1;\n                  break;\n                case 7:\n                  categoryTags[7] = 1;\n                  break;\n                case 8:\n                  categoryTags[8] = 1;\n                  break;  \n                case 9:\n                  categoryTags[9] = 1;\n                  break;\n                case 10:\n                  categoryTags[10] = 1;\n                  break;\n                case 11:\n                  categoryTags[11] = 1;\n                  break;\n                case 12:\n                  categoryTags[12] = 1;\n                  break;\n                case 13:\n                  categoryTags[13] = 1;\n                  break;  \n              }\n            }\n            console.log('category tags: ', categoryTags);\n            // window[\"plugins\"].OneSignal\n            // .sendTags({\n            //   userType: this.userData.userType,\n            //   categoryId1: categoryTags[1],\n            //   categoryId2: categoryTags[2],\n            //   categoryId3: categoryTags[3],\n            //   categoryId4: categoryTags[4],\n            //   categoryId5: categoryTags[5],\n            //   categoryId6: categoryTags[6],\n            //   categoryId7: categoryTags[7],\n            //   categoryId8: categoryTags[8],\n            //   categoryId9: categoryTags[9],\n            //   categoryId10: categoryTags[10],\n            //   categoryId11: categoryTags[11],\n            //   categoryId12: categoryTags[12],\n            //   categoryId13: categoryTags[13]\n            // });\n            loading.dismiss();\n            this.navCtrl.setRoot('MainPage', {\n              userData: this.userData\n            }, {}, () => {\n              let toast = this.toastCtrl.create({\n                message: 'See whats happeing and show others what might help them :)',\n                duration: 3000\n              })\n              toast.present();\n            })\n          }\n          else if(this.userData.userType == 3) {\n            categoryTags[this.userData.employeePostCategoryId] = 1;\n            console.log('employee ke tags: ', categoryTags);\n            // window[\"plugins\"].OneSignal\n            // .sendTags({\n            //   userType: this.userData.userType,\n            //   categoryId1: categoryTags[1],\n            //   categoryId2: categoryTags[2],\n            //   categoryId3: categoryTags[3],\n            //   categoryId4: categoryTags[4],\n            //   categoryId5: categoryTags[5],\n            //   categoryId6: categoryTags[6],\n            //   categoryId7: categoryTags[7],\n            //   categoryId8: categoryTags[8],\n            //   categoryId9: categoryTags[9],\n            //   categoryId10: categoryTags[10],\n            //   categoryId11: categoryTags[11],\n            //   categoryId12: categoryTags[12],\n            //   categoryId13: categoryTags[13]\n            // });\n            loading.dismiss();\n            this.navCtrl.setRoot('RelatedNews', {\n              userData: this.userData\n            }, {}, () => {\n              let toast = this.toastCtrl.create({\n                message: 'See whats happeing and do something about it!',\n                duration: 3000\n              })\n              toast.present();\n            })\n          }\n        // })\n      }\n      else {\n        let toast = this.toastCtrl.create({\n        message: \"There is no account associated with this username.\",\n        duration: 3000\n        })\n        toast.present();\n      }\n        \n    },(error) => {\n        console.log('errorjee: ',error);\n        let toast = this.toastCtrl.create({\n          message: \"Server Problem! Please try later.\",\n          showCloseButton: true,\n          closeButtonText: \"Ok\"\n        })\n        toast.present();\n    })\n    \n  }\n  \n  moveToSignup(){\n    this.navCtrl.push('Signup');\n  }\n\n  // checking(){\n  //   this.service.checkForDuplicateUsername('faizy14')\n  //   .subscribe((data) => {\n  //     console.log(data);\n  //   })\n  // }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}