{"version":3,"sources":["../../src/pages/main-page/main-page.module.ts","../../src/pages/main-page/main-page.ts"],"names":[],"mappings":"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","file":"8.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MainPage } from './main-page';\n\n@NgModule({\n  declarations: [\n    MainPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MainPage),\n  ],\n  exports: [\n    MainPage\n  ]\n})\nexport class MainPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main-page/main-page.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Platform, Slides, ModalController } from 'ionic-angular';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\nimport { Geolocation } from '@ionic-native/geolocation';\n// import { PhotoViewer } from '@ionic-native/photo-viewer';\n// import { File } from '@ionic-native/file';\n// import { FilePath } from '@ionic-native/file-path';\n// import { FileChooser } from '@ionic-native/file-chooser';\n\nimport { PostServices } from \"../../providers/post-services\";\nimport { LatLng } from \"@ionic-native/google-maps\";\n\n/**\n * Generated class for the MainPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-main-page',\n  templateUrl: 'main-page.html',\n})\nexport class MainPage {\n\n  trendingPosts                   : any;\n  postByLoggedInUser              : any;\n  subscribedCategoriesPosts       : any; \n  slideTitle                      : string = \"Trending\";\n  hostURL                         : string = \"https://limitless-woodland-73873.herokuapp.com/\";\n  loggedInUserId                  : number = this.navParams.get('loggedInUserId');\n  loggedInUsername                : string = this.navParams.get('username');\n  firstname                       : string = this.navParams.get('firstname');\n  lastname                        : string = this.navParams.get('lastname');\n  email                           : string = this.navParams.get('email');\n  phone                           : string = this.navParams.get('phone');\n  loggedInUserDpURL               : string = this.navParams.get('dpUrl');\n  loggedInUserPostCount           : number = this.navParams.get('postCount');\n  \n  constructor(\n    public navCtrl        : NavController,\n    public navParams      : NavParams,\n    public modal          : ModalController,\n    private service       : PostServices,\n    private mediaCapture  : MediaCapture,\n    // private pv         : PhotoViewer,\n    // private filePath   : FilePath,\n    // private fileChooser: FileChooser,\n    private camera        : Camera,\n    private geolocation   : Geolocation\n  ) {}\n\n \n\n  ionViewWillLoad() {\n    console.log('page loded and the user id is: ', this.loggedInUserId);\n    this.service.getTrending()\n    .subscribe((data) => {\n      if(data != null) {\n        this.trendingPosts = data;\n        console.log('here is the data= ', this.trendingPosts);\n      }\n    })\n  }\n\n  @ViewChild(Slides) slides: Slides;\n  slideIndex: number;\n  \n  changeTitle()\n  {\n    this.slideIndex = this.slides.getActiveIndex();\n\n    if(this.slideIndex == 0)\n    {\n      this.slideTitle = \"Trending\";\n    }\n    if(this.slideIndex == 1)\n    {\n      this.slideTitle = \"Subscriptions\";\n    }\n    if(this.slideIndex >= 2)\n    {\n      this.slideTitle = \"My Posts\";\n      this.service.getPostByUserId(this.loggedInUserId)\n      .subscribe((data) => {\n        if(data != null) {\n          this.postByLoggedInUser = data;\n          console.log(this.postByLoggedInUser);\n        }\n      })\n    }\n    \n  }\n  \n  openCamera()\n  {\n      // this.navCtrl.push('UploadTestPage', {\n      //   loggedInUserId  : this.loggedInUserId,\n      //   username        : this.loggedInUsername, \n      //   mediaType       : 1\n      // });\n      const options: CameraOptions = {\n        quality: 100,\n        destinationType: this.camera.DestinationType.FILE_URI,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE\n      }\n      \n      this.camera.getPicture(options).then((imageData) => {\n        let option = { enableHighAccuracy : true };\n        this.geolocation.getCurrentPosition(option)\n        .then((resp) => {\n          let ionic: LatLng = new LatLng(resp.coords.latitude, resp.coords.longitude);\n          console.log('From camera plugin: ', imageData);\n          this.navCtrl.push('NewPostPage', {\n                  loggedInUserId  : this.loggedInUserId,\n                  username        : this.loggedInUsername, \n                  mediaType       : 1,\n                  mediaFilePath   : imageData,\n                  postLat         : ionic.lat,\n                  postLng         : ionic.lng   \n          })\n        })\n        \n      }, (err) => {\n      // Handle error\n      });\n      \n      // let options: CaptureImageOptions = { limit: 3 };\n      // this.mediaCapture.captureImage()\n      // .then((data: MediaFile[]) => {\n\n      //   console.log('From Media file: ', data);\n          \n      //   this.fileChooser.open()\n      //   .then(uri => {\n      //     console.log('from file chooser: ',uri);\n      //     this.filePath.resolveNativePath(uri)\n      //     .then(filePath => {\n      //       this.pv.show(filePath);\n      //       console.log('from filepath: ',filePath);\n      //       this.navCtrl.push('NewPostPage', {\n      //         mediaFile : filePath\n      //       })\n      //     })\n      //     .catch(err => console.log(err));\n      //   })\n      //   .catch(e => console.log(e))    \n      //   }, (err: CaptureError) => console.error(err)\n      // );\n  }\n\n  openVideoCam() {\n    this.mediaCapture.captureVideo()\n      .then ((data: MediaFile[]) => {\n        console.log('From mediaCapture.captureVideo plugin: ', data['0'].fullPath);\n        let option = { enableHighAccuracy : true };\n        this.geolocation.getCurrentPosition(option)\n        .then((resp) => {\n          let ionic: LatLng = new LatLng(resp.coords.latitude, resp.coords.longitude);\n          console.log('From camera plugin: ', data['0'].fullPath);\n          this.navCtrl.push('NewPostPage', {\n                  loggedInUserId  : this.loggedInUserId,\n                  username        : this.loggedInUsername, \n                  mediaType       : 2,\n                  mediaFilePath   : data['0'].fullPath,\n                  postLat         : ionic.lat,\n                  postLng         : ionic.lng   \n          })\n        })    \n        }, (err: CaptureError) => console.error(err)\n      );\n  }\n\n  openNotifications()\n  {\n    this.navCtrl.push('Notifications');\n  }\n\n  openPostDetail()\n  {\n    console.log(\"i'm here\");\n    this.navCtrl.push('PostDetail');\n  }\n  \n  moveToMaps()\n  {\n    this.navCtrl.push('Maps');\n  }\n\n  moveToRelatedNews(){\n    this.navCtrl.push('RelatedNews');\n  }\n\n  openCommentsModal(postId: number, postDesc: string, postUsername: string, postUserDpUrl: string)\n  {\n    \n    const commentModal = this.modal.create('CommentModal', {\n      postId,\n      postDesc,\n      postUsername,\n      postUserDpUrl,\n      loggedInUserId : this.loggedInUserId \n    });\n    commentModal.present();\n  }\n\n  openMapModal(lat:number ,lng:number, postTitle:string)\n  {\n    \n    this.navCtrl.push('PostMapModal', {\n      latitude  : lat,\n      longitude : lng,\n      title     : postTitle \n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main-page/main-page.ts"],"sourceRoot":""}